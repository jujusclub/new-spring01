<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="springpracmapper">

<select id="logining" resultType="adventour_sp.VO.Ad_VO">
	select m_pw from member where m_id= '${m_id}' and m_pw='${m_pw}' ;
</select>



    <select id="city_select" resultType="adventour_sp.VO.Ad_VO">
        SELECT
        h_hotel.*,
        MIN(h_room.h_roompri) AS min_h_roompri
        FROM h_hotel
        INNER JOIN h_room ON h_hotel.h_name_eng = h_room.h_name_eng
        WHERE
        h_hotel.country_eng = #{city}
        GROUP BY
        h_hotel.h_name_eng;
    </select>
    
    
    
  <select id="hotel_in" resultType="adventour_sp.VO.Ad_VO">  
    		(
		SELECT h_room.*, h_hotel.*
		FROM h_room
		INNER JOIN h_hotel
		ON h_room.h_name_eng = h_hotel.h_name_eng
		WHERE h_room.h_name_eng =
		'${h_name_eng}'
		AND h_room.h_roomtype = 'double'
		ORDER BY RAND()
		LIMIT 1
		)
		UNION
		(
		SELECT h_room.*, h_hotel.*
		FROM h_room
		INNER JOIN h_hotel ON
		h_room.h_name_eng = h_hotel.h_name_eng
		WHERE h_room.h_name_eng =
		'${h_name_eng}'
		AND h_room.h_roomtype = 'suite'
		ORDER BY RAND()
		LIMIT 1
		);
    
  </select>   
    

</mapper>